---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import logoImg from '../assets/logo_ecoamazonico.png';
import heroBg from '../assets/hero_background_v2.jpg';
import { services } from '../data/services.js';

---

<Layout>
	<main class="bg-gray-50 min-h-screen font-sans text-gray-800">
		<!-- Sticky Header Wrapper -->
		<div class="sticky top-0 z-[60] w-full -mb-20">
		<!-- Top Bar -->
		<div class="bg-[#272623] text-gray-300 text-xs md:text-sm py-2 block">
			<div class="container mx-auto px-4 flex justify-between items-center md:gap-4">
				<div class="contents md:flex md:items-center md:justify-between md:flex-1 md:mr-4">
					<div class="group relative flex items-center gap-2 cursor-pointer tooltip-trigger">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-eco-lime" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.05 12.05 0 0 0 .57 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.05 12.05 0 0 0 2.81.57A2 2 0 0 1 22 16.92z"></path></svg>
						<span class="hidden md:block">+51 945 775 810</span>
						<!-- Tooltip for Mobile -->
						<div class="tooltip-content absolute top-full left-0 mt-2 px-3 py-1 bg-gray-900 text-white text-xs rounded opacity-0 transition-opacity duration-300 pointer-events-none whitespace-nowrap z-[60] shadow-lg md:hidden">
							+51 945 775 810
							<div class="absolute -top-1 left-2 border-4 border-transparent border-b-gray-900"></div>
						</div>
					</div>
					<div class="group relative flex items-center gap-2 cursor-pointer tooltip-trigger">	
						<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-eco-lime" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
						<span class="hidden md:block">Av. Insurgentes 594 San Miguel - Lima | Jr. Abancay 201, 2do piso</span>
						<!-- Tooltip for Mobile -->
						<div class="tooltip-content absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1 bg-gray-900 text-white text-xs rounded opacity-0 transition-opacity duration-300 pointer-events-none z-[60] shadow-lg md:hidden w-max max-w-[200px] text-center">
							Av. Insurgentes 594 San Miguel - Lima | Jr. Abancay 201, 2do piso
							<div class="absolute -top-1 left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-900"></div>
						</div>
					</div>
					<div class="group relative flex items-center gap-2 cursor-pointer tooltip-trigger">	
						<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-eco-lime" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
						<span class="hidden md:block">Paucarbamba, Amarilis, Huánuco</span>
						<!-- Tooltip for Mobile -->
						<div class="tooltip-content absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1 bg-gray-900 text-white text-xs rounded opacity-0 transition-opacity duration-300 pointer-events-none z-[60] shadow-lg md:hidden w-max max-w-[200px] text-center">
							Paucarbamba, Amarilis, Huánuco
							<div class="absolute -top-1 left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-900"></div>
						</div>
					</div>
					<div class="group relative flex items-center gap-2 cursor-pointer tooltip-trigger">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-eco-lime" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
						<span class="hidden md:block">ecoamazonicoperusrl@gmail.com</span>
						<!-- Tooltip for Mobile -->
						<div class="tooltip-content absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1 bg-gray-900 text-white text-xs rounded opacity-0 transition-opacity duration-300 pointer-events-none whitespace-nowrap z-[60] shadow-lg md:hidden">
							ecoamazonicoperusrl@gmail.com
							<div class="absolute -top-1 left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-900"></div>
						</div>
					</div>
				</div>
				<div class="contents md:flex md:items-center md:gap-4 md:shrink-0">
					<a href="#" class="group relative hover:text-eco-lime transition-colors tooltip-trigger" aria-label="Facebook">
						<svg width="10" height="18" viewBox="0 0 10 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4">
							<path d="M9.34105 7.78582L9.11687 9.58099C9.07895 9.88086 8.82429 10.1064 8.52222 10.1064H5.60653V17.612C5.29904 17.6397 4.98749 17.6538 4.67256 17.6538C3.96819 17.6538 3.28075 17.5836 2.61633 17.4499V10.1064H0.373859C0.167966 10.1064 0 9.93827 0 9.73227V7.48595C0 7.27996 0.167966 7.11179 0.373859 7.11179H2.61633V3.74297C2.61633 1.67563 4.2899 0 6.35492 0H8.97126C9.17715 0 9.34512 0.16817 9.34512 0.374162V2.62049C9.34512 2.82648 9.17715 2.99465 8.97126 2.99465H7.10196C6.27636 2.99465 5.60721 3.66463 5.60721 4.49197V7.11246H8.74708C9.10739 7.11246 9.38575 7.42854 9.34173 7.78649L9.34105 7.78582Z"/>
						</svg>
						<div class="tooltip-content absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1 bg-gray-900 text-white text-xs rounded opacity-0 md:group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap z-[60] shadow-lg">
							Facebook
							<div class="absolute -top-1 left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-900"></div>
						</div>
					</a>
					<a href="#" class="group relative hover:text-eco-lime transition-colors tooltip-trigger" aria-label="TikTok">
						<svg width="16" height="18" viewBox="0 0 16 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4">
							<path d="M10.6524 12.7841V5.17503C10.6524 5.17503 11.5355 6.60502 14.7277 6.69237C14.8979 6.69701 15.0387 6.56096 15.0387 6.39555V4.24515C15.0387 4.08514 14.9075 3.95838 14.7428 3.9491C12.2667 3.81306 11.0908 1.96798 10.9754 0.27595C10.9651 0.119037 10.8234 0 10.6619 0H8.13733C7.96945 0 7.8326 0.132178 7.8326 0.296047V12.3922C7.8326 13.7063 6.79906 14.8495 5.44806 14.9114C3.90371 14.9825 2.64819 13.6947 2.83914 12.1727C2.9744 11.0975 3.86234 10.2171 4.96669 10.0679C5.18629 10.0386 5.40032 10.0362 5.60798 10.0587C5.79178 10.0787 5.95329 9.9458 5.95329 9.76647V7.61066C5.95329 7.45761 5.83315 7.32466 5.67561 7.31538C5.35895 7.29528 5.03432 7.30224 4.70493 7.33857C2.26946 7.60756 0.303425 9.52221 0.0337022 11.889C-0.321951 15.0111 2.18433 17.6538 5.32632 17.6538C8.26782 17.6538 10.6524 15.3373 10.6524 12.4796"/>
						</svg>
						<div class="tooltip-content absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1 bg-gray-900 text-white text-xs rounded opacity-0 md:group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap z-[60] shadow-lg">
							TikTok
							<div class="absolute -top-1 left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-900"></div>
						</div>
					</a>
					<a href="#" class="group relative hover:text-eco-lime transition-colors tooltip-trigger" aria-label="Instagram">
						<svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4">
							<path d="M13.3926 0H4.26121C1.90827 0 0 1.90827 0 4.26121V13.3926C0 15.7456 1.90827 17.6538 4.26121 17.6538H13.3926C15.7456 17.6538 17.6538 15.7456 17.6538 13.3926V4.26121C17.6538 1.90827 15.7456 0 13.3926 0ZM16.1318 13.0877C16.1318 14.7681 14.7681 16.1318 13.0877 16.1318H4.56528C2.88485 16.1318 1.5212 14.7681 1.5212 13.0877V4.56528C1.5212 2.88485 2.88485 1.5212 4.56528 1.5212H13.0877C14.7681 1.5212 16.1318 2.88485 16.1318 4.56528V13.0877Z"/>
							<path d="M8.83553 4.26134C6.31573 4.26134 4.27025 6.30683 4.27025 8.82663C4.27025 11.3464 6.31573 13.3919 8.83553 13.3919C11.3553 13.3919 13.4008 11.3464 13.4008 8.82663C13.4008 6.30683 11.3553 4.26134 8.83553 4.26134ZM8.83553 11.8707C7.15849 11.8707 5.79145 10.5037 5.79145 8.82663C5.79145 7.14958 7.15849 5.78254 8.83553 5.78254C10.5126 5.78254 11.8796 7.14958 11.8796 8.82663C11.8796 10.5037 10.5126 11.8707 8.83553 11.8707Z"/>
							<path d="M13.7055 4.86998C14.2097 4.86998 14.6185 4.46119 14.6185 3.95692C14.6185 3.45266 14.2097 3.04387 13.7055 3.04387C13.2012 3.04387 12.7924 3.45266 12.7924 3.95692C12.7924 4.46119 13.2012 4.86998 13.7055 4.86998Z"/>
						</svg>
						<div class="tooltip-content absolute top-full right-0 mt-2 px-3 py-1 bg-gray-900 text-white text-xs rounded opacity-0 md:group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap z-[60] shadow-lg">
							Instagram
							<div class="absolute -top-1 right-2 border-4 border-transparent border-b-gray-900"></div>
						</div>
					</a>
				</div>
			</div>
		</div>

		<!-- Header -->
		<header id="main-header" class="w-full transition-all duration-300">
			<div class="container mx-auto px-4 py-4 flex justify-between items-center relative">
				<div class="flex items-center space-x-2 z-50">
					<a href="/" class="flex items-center gap-2">
						<Image id="header-logo" src={logoImg} alt="Logo EcoAmazónico" class="h-12 w-auto object-contain brightness-0 invert transition-all duration-300" />
					</a>
				</div>
				
				<!-- Desktop Navigation -->
				<nav class="hidden md:flex items-center space-x-8">
					<div class="flex space-x-8">
						<a href="/#inicio" class="nav-link text-white hover:text-eco-lime font-medium transition-colors shadow-sm">Inicio</a>
						<a href="/#nosotros" class="nav-link text-white hover:text-eco-lime font-medium transition-colors shadow-sm">Nosotros</a>
						<a href="/#destinos" class="nav-link text-white hover:text-eco-lime font-medium transition-colors shadow-sm">Destinos</a>
						<a href="/servicios" class="nav-link text-white hover:text-eco-lime font-medium transition-colors shadow-sm">Servicios</a>
						<a href="/#certificaciones" class="nav-link text-white hover:text-eco-lime font-medium transition-colors shadow-sm">Certificaciones</a>
						<a href="/#contacto" class="nav-link text-white hover:text-eco-lime font-medium transition-colors shadow-sm">Contacto</a>
					</div>
					<a href="/#contacto" class="bg-eco-lime text-green-950 px-5 py-2 rounded-full font-medium hover:bg-eco-lime/80 transition duration-300">
						Contáctanos
					</a>
				</nav>

				<!-- Mobile Menu Button -->
				<button id="mobile-menu-btn" class="md:hidden z-50 focus:outline-none text-white transition-colors duration-300" aria-label="Menu">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
					</svg>
				</button>

				<!-- Mobile Menu Overlay -->
				<div id="mobile-menu" class="fixed inset-0 bg-green-950/95 backdrop-blur-md z-40 transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col justify-center items-center gap-8 md:hidden">
					<a href="/#inicio" class="mobile-nav-link text-2xl text-white font-bold hover:text-eco-lime transition-colors">Inicio</a>
					<a href="/#nosotros" class="mobile-nav-link text-2xl text-white font-bold hover:text-eco-lime transition-colors">Nosotros</a>
					<a href="/#destinos" class="mobile-nav-link text-2xl text-white font-bold hover:text-eco-lime transition-colors">Destinos</a>
					<a href="/servicios" class="mobile-nav-link text-2xl text-white font-bold hover:text-eco-lime transition-colors">Servicios</a>
					<a href="/#certificaciones" class="mobile-nav-link text-2xl text-white font-bold hover:text-eco-lime transition-colors">Certificaciones</a>
					<a href="/#contacto" class="mobile-nav-link text-2xl text-white font-bold hover:text-eco-lime transition-colors">Contacto</a>
					<a href="/#contacto" class="bg-white text-green-950 px-8 py-3 rounded-full text-xl font-bold hover:bg-eco-lime/10 transition duration-300 shadow-lg mt-4 mobile-nav-link">
						Contáctanos
					</a>
				</div>
			</div>
		</header>
		</div>

		<!-- Page Header -->
		<div class="relative bg-green-950 py-32 md:py-48 flex items-center justify-center overflow-hidden">
			<div class="absolute inset-0 z-0">
				<Image src={heroBg} alt="Servicios Background" class="w-full h-full object-cover opacity-30" />
			</div>
			<div class="relative z-10 text-center px-4">
				<h1 class="text-4xl md:text-6xl font-bold text-white mb-6">Nuestros Servicios</h1>
				<p class="text-xl text-eco-lime/80 max-w-2xl mx-auto">Soluciones integrales para el desarrollo sostenible</p>
			</div>
		</div>

		<!-- Services Detail Section -->
		<section class="py-20 bg-white">
			<div class="container mx-auto px-4">
				<div class="space-y-24">
					{services.map((service, index) => (
						<div class={`flex flex-col md:flex-row gap-12 items-center ${index % 2 === 1 ? 'md:flex-row-reverse' : ''}`} id={service.title.toLowerCase().replace(/ /g, '-')}>
							<div class="w-full md:w-1/2">
								<div class="relative rounded-2xl overflow-hidden shadow-2xl group">
									<Image src={heroBg} alt={service.title} class="w-full h-80 object-cover transform group-hover:scale-105 transition-transform duration-700" />
									<div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-60"></div>
									<div class="absolute bottom-6 left-6 bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20">
										{service.icon === 'clipboard' && <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /></svg>}
										{service.icon === 'search' && <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>}
										{service.icon === 'users' && <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" /></svg>}
										{service.icon === 'truck' && <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>}
										{service.icon === 'key' && <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" /></svg>}
									</div>
								</div>
							</div>
							<div class="w-full md:w-1/2">
								<h2 class="text-3xl font-bold text-gray-900 mb-6">{service.title}</h2>
								<p class="text-gray-600 text-lg leading-relaxed mb-8">
									{service.fullDesc}
								</p>
								<div class="flex gap-4">
									<a href="/#contacto" class="bg-eco-lime text-green-950 px-6 py-3 rounded-lg font-bold hover:bg-eco-lime/80 transition-colors flex items-center gap-2">
										Solicitar Cotización
										<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7" /></svg>
									</a>
								</div>
							</div>
						</div>
					))}
				</div>
			</div>
		</section>

		<!-- Footer -->
		<footer id="contacto" class="bg-[#272623] text-white py-8 font-sans border-t border-gray-800">
			<div class="container mx-auto px-4">
				<div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-start">
					<!-- Column 1: Brand, Social & Contact -->
					<div class="space-y-4 text-center md:text-left">
						<a href="/" class="inline-block">
							<Image src={logoImg} alt="Logo EcoAmazónico" class="h-16 w-auto object-contain brightness-0 invert opacity-90 hover:opacity-100 transition-opacity" />
						</a>
						<p class="text-gray-400 text-sm leading-relaxed max-w-xs mx-auto md:mx-0">
							Empresa de servicios industriales y ambientales. Más de 18 años de experiencia al servicio del país.
						</p>
						
						<!-- Quick Contact (Merged) -->
						<div class="pt-2 border-t border-gray-800 space-y-3">
							<div class="flex items-center gap-3 justify-center md:justify-start text-gray-400">
								<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-eco-lime" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
								<span class="text-sm font-medium">+51 945 775 810</span>
							</div>
							<div class="flex items-center gap-3 justify-center md:justify-start text-gray-400">
								<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-eco-lime" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
								<span class="text-sm font-medium">ecoamazonicoperusrl@gmail.com</span>
							</div>
						</div>
					</div>

					<!-- Column 2: Huánuco Location -->
					<div class="space-y-4 border-t md:border-t-0 md:border-l border-gray-800 pt-8 md:pt-0 md:pl-8 h-full">
						<div class="flex items-center gap-2 justify-center md:justify-start mb-2">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-eco-lime shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
							<h3 class="text-white font-bold text-lg">Huánuco</h3>
						</div>
						<div class="rounded-xl overflow-hidden h-40 bg-gray-800 relative border border-gray-700 shadow-lg">
							<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3930.567087807757!2d-76.2427849241639!3d-9.936353690165977!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x91a7c2e25c04010b%3A0x62a129377478052a!2sJr.%20Abancay%20201%2C%20Hu%C3%A1nuco%2010001!5e0!3m2!1sen!2spe!4v1709920000000!5m2!1sen!2spe" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="w-full h-full object-cover"></iframe>
						</div>
						<p class="text-gray-400 text-sm text-center md:text-left">Jr. Abancay 201, 2do piso Paucarbamba, Amarilis</p>
					</div>

					<!-- Column 3: Lima Location -->
					<div class="space-y-4 border-t md:border-t-0 md:border-l border-gray-800 pt-8 md:pt-0 md:pl-8 h-full">
						<div class="flex items-center gap-2 justify-center md:justify-start mb-2">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-eco-lime shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
							<h3 class="text-white font-bold text-lg">Lima</h3>
						</div>
						<div class="rounded-xl overflow-hidden h-40 bg-gray-800 relative border border-gray-700 shadow-lg">
							<iframe src="https://maps.google.com/maps?q=Av.+Insurgentes+594+San+Miguel+Lima&t=&z=15&ie=UTF8&iwloc=&output=embed" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="w-full h-full object-cover"></iframe>
						</div>
						<p class="text-gray-400 text-sm text-center md:text-left">Av. Insurgentes 594 San Miguel</p>
					</div>
				</div>
				
				<!-- Copyright -->
				<div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-600 text-sm">
					<p>&copy; {new Date().getFullYear()} EcoAmazónico. Todos los derechos reservados.</p>
				</div>
			</div>
		</footer>
	</main>

	<script>
		const header = document.getElementById('main-header');
		const logo = document.getElementById('header-logo');
		const navLinks = document.querySelectorAll('.nav-link');
		const mobileMenuBtn = document.getElementById('mobile-menu-btn');
		const mobileMenu = document.getElementById('mobile-menu');
		const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
		
		function updateHeader() {
			const isScrolled = window.scrollY > 0;
			const isMenuOpen = !mobileMenu?.classList.contains('translate-x-full');

			if (isScrolled) {
				// Sticky State Colors
				header?.classList.remove('bg-transparent');
				header?.classList.add('bg-white', 'shadow-md');
				
				// Logo: restore original colors
				logo?.classList.remove('brightness-0', 'invert');
				
				// Links: dark text
				navLinks.forEach(link => {
					link.classList.remove('text-white', 'shadow-sm', 'hover:text-eco-lime');
					link.classList.add('text-gray-800', 'hover:text-eco-lime');
				});

				if (!isMenuOpen) {
					mobileMenuBtn?.classList.remove('text-white');
					mobileMenuBtn?.classList.add('text-gray-800');
				}
			} else {
				// Default State Colors (Transparent) - BUT for this page, we might want it always sticky or white if hero is different?
				// Actually, I put a Hero section with dark bg, so transparent is fine initially.
				// Wait, the new hero is 'bg-green-900', so transparent header will show green-900 behind it.
				// The text is white, so it works.
				
				header?.classList.add('bg-transparent');
				header?.classList.remove('bg-white', 'shadow-md');
				
				// Logo: white
				logo?.classList.add('brightness-0', 'invert');
				
				// Links: white text
				navLinks.forEach(link => {
					link.classList.add('text-white', 'shadow-sm', 'hover:text-eco-lime');
					link.classList.remove('text-gray-800', 'hover:text-eco-lime');
				});

				// Mobile Menu Button: white text
				mobileMenuBtn?.classList.add('text-white');
				mobileMenuBtn?.classList.remove('text-gray-800');
			}
		}

		// Mobile Menu Toggle
		mobileMenuBtn?.addEventListener('click', () => {
			mobileMenu?.classList.toggle('translate-x-full');
			const isOpen = !mobileMenu?.classList.contains('translate-x-full');
			
			if (isOpen) {
				// Lock body scroll
				document.body.style.overflow = 'hidden';
				// Ensure button is white on dark overlay
				mobileMenuBtn?.classList.add('text-white');
				mobileMenuBtn?.classList.remove('text-gray-800');
			} else {
				// Unlock body scroll
				document.body.style.overflow = '';
				// Restore button color based on scroll
				updateHeader();
			}
		});

		// Close Mobile Menu on Link Click
		mobileNavLinks.forEach(link => {
			link.addEventListener('click', () => {
				mobileMenu?.classList.add('translate-x-full');
				document.body.style.overflow = '';
				updateHeader();
			});
		});

		window.addEventListener('scroll', updateHeader);
		// Run on load in case we start scrolled down
		updateHeader();

		// Tooltip logic for mobile
		const tooltipTriggers = document.querySelectorAll('.tooltip-trigger');
		
		tooltipTriggers.forEach(trigger => {
			trigger.addEventListener('click', (e) => {
				// Only prevent default if it's an anchor with href="#" (to avoid jumping)
				if (trigger.tagName === 'A' && trigger.getAttribute('href') === '#') {
					e.preventDefault();
				}
				e.stopPropagation();

				// Close all other tooltips
				tooltipTriggers.forEach(t => {
					if (t !== trigger) {
						const otherTooltip = t.querySelector('.tooltip-content');
						otherTooltip?.classList.remove('opacity-100');
						otherTooltip?.classList.add('opacity-0');
					}
				});

				// Toggle current
				const tooltip = trigger.querySelector('.tooltip-content');
				if (tooltip) {
					if (tooltip.classList.contains('opacity-100')) {
						tooltip.classList.remove('opacity-100');
						tooltip.classList.add('opacity-0');
					} else {
						tooltip.classList.remove('opacity-0');
						tooltip.classList.add('opacity-100');
					}
				}
			});
		});

		// Close tooltips when clicking outside
		document.addEventListener('click', () => {
			tooltipTriggers.forEach(t => {
				const tooltip = t.querySelector('.tooltip-content');
				tooltip?.classList.remove('opacity-100');
				tooltip?.classList.add('opacity-0');
			});
		});
	</script>
</Layout>
