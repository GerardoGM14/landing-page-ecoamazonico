---
import "../styles/global.css";
import '@fontsource/poppins/400.css';
import '@fontsource/poppins/500.css';
import '@fontsource/poppins/600.css';
import '@fontsource/poppins/700.css';
import '@fontsource/inter/400.css';
import '@fontsource/inter/600.css';
import CookieConsent from '../components/CookieConsent.astro';
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="generator" content={Astro.generator} />
		<title>EcoAmazónico - Landing Page</title>
	</head>
	<body>
		<!-- Loader -->
		<div id="page-loader" class="fixed inset-0 z-[100] bg-black/60 backdrop-blur-md flex items-center justify-center transition-opacity duration-700 ease-out">
			<div class="w-12 h-12 border-4 border-white/20 border-t-eco-lime rounded-full animate-spin"></div>
		</div>

		<slot />
		<CookieConsent />

		<script>
			// Ocultar loader cuando todo esté cargado
			window.addEventListener('load', () => {
				const loader = document.getElementById('page-loader');
				if (loader) {
					// Pequeño delay para asegurar que se vea fluido
					setTimeout(() => {
						loader.style.opacity = '0';
						// Remover del DOM después de la transición
						setTimeout(() => {
							loader.style.display = 'none';
						}, 700);
					}, 500);
				}
			});
		</script>
	</body>
</html>

<style>
	html,
	body {
		margin: 0;
		width: 100%;
		height: 100%;
	}
</style>
